{"remainingRequest":"D:\\code\\willFire\\vue\\node_modules\\babel-loader\\lib\\index.js!D:\\code\\willFire\\vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\code\\willFire\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\code\\willFire\\vue\\src\\components\\comment\\comment.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\code\\willFire\\vue\\src\\components\\comment\\comment.vue","mtime":1723964853960},{"path":"D:\\code\\willFire\\vue\\babel.config.js","mtime":1720174139000},{"path":"D:\\code\\willFire\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1723800259159},{"path":"D:\\code\\willFire\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1723800259743},{"path":"D:\\code\\willFire\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1723800259159},{"path":"D:\\code\\willFire\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1723800259896}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgZ3JhZmZpdGkgPSBmdW5jdGlvbiBncmFmZml0aSgpIHsKICByZXR1cm4gaW1wb3J0KCIuL2dyYWZmaXRpIik7Cn07Cgp2YXIgY29tbWVudEJveCA9IGZ1bmN0aW9uIGNvbW1lbnRCb3goKSB7CiAgcmV0dXJuIGltcG9ydCgiLi9jb21tZW50Qm94Iik7Cn07Cgp2YXIgcHJvUGFnZSA9IGZ1bmN0aW9uIHByb1BhZ2UoKSB7CiAgcmV0dXJuIGltcG9ydCgiLi4vY29tbW9uL3Byb1BhZ2UiKTsKfTsKCmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBncmFmZml0aTogZ3JhZmZpdGksCiAgICBjb21tZW50Qm94OiBjb21tZW50Qm94LAogICAgcHJvUGFnZTogcHJvUGFnZQogIH0sCiAgcHJvcHM6IHsKICAgIHNvdXJjZTogewogICAgICB0eXBlOiBOdW1iZXIKICAgIH0sCiAgICB0eXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZwogICAgfSwKICAgIHVzZXJJZDogewogICAgICB0eXBlOiBOdW1iZXIKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0dyYWZmaXRpOiBmYWxzZSwKICAgICAgdG90YWw6IDAsCiAgICAgIHJlcGx5RGlhbG9nVmlzaWJsZTogZmFsc2UsCiAgICAgIGZsb29yQ29tbWVudDoge30sCiAgICAgIHJlcGx5Q29tbWVudDoge30sCiAgICAgIGNvbW1lbnRzOiBbXSwKICAgICAgcGFnaW5hdGlvbjogewogICAgICAgIGN1cnJlbnQ6IDEsCiAgICAgICAgc2l6ZTogMTAsCiAgICAgICAgdG90YWw6IDAsCiAgICAgICAgc291cmNlOiB0aGlzLnNvdXJjZSwKICAgICAgICBjb21tZW50VHlwZTogdGhpcy50eXBlLAogICAgICAgIGZsb29yQ29tbWVudElkOiBudWxsCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDoge30sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0Q29tbWVudHModGhpcy5wYWdpbmF0aW9uKTsKICAgIHRoaXMuZ2V0VG90YWwoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHRvUGFnZTogZnVuY3Rpb24gdG9QYWdlKHBhZ2UpIHsKICAgICAgdGhpcy5wYWdpbmF0aW9uLmN1cnJlbnQgPSBwYWdlOwogICAgICB3aW5kb3cuc2Nyb2xsVG8oewogICAgICAgIHRvcDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbW1lbnQtY29udGVudCcpLm9mZnNldFRvcAogICAgICB9KTsKICAgICAgdGhpcy5nZXRDb21tZW50cyh0aGlzLnBhZ2luYXRpb24pOwogICAgfSwKICAgIGdldFRvdGFsOiBmdW5jdGlvbiBnZXRUb3RhbCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJGh0dHAuZ2V0KCJodHRwOi8vNDcuOTYuODYuMjIzOjgwODEvYXBpIiArICIvY29tbWVudC9nZXRDb21tZW50Q291bnQiLCB7CiAgICAgICAgc291cmNlOiB0aGlzLnNvdXJjZSwKICAgICAgICB0eXBlOiB0aGlzLnR5cGUKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKCFfdGhpcy4kY29tbW9uLmlzRW1wdHkocmVzLmRhdGEpKSB7CiAgICAgICAgICBfdGhpcy50b3RhbCA9IHJlcy5kYXRhOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwKICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgdG9DaGlsZFBhZ2U6IGZ1bmN0aW9uIHRvQ2hpbGRQYWdlKGZsb29yQ29tbWVudCkgewogICAgICBmbG9vckNvbW1lbnQuY2hpbGRDb21tZW50cy5jdXJyZW50ICs9IDE7CiAgICAgIHZhciBwYWdpbmF0aW9uID0gewogICAgICAgIGN1cnJlbnQ6IGZsb29yQ29tbWVudC5jaGlsZENvbW1lbnRzLmN1cnJlbnQsCiAgICAgICAgc2l6ZTogNSwKICAgICAgICB0b3RhbDogMCwKICAgICAgICBzb3VyY2U6IHRoaXMuc291cmNlLAogICAgICAgIGNvbW1lbnRUeXBlOiB0aGlzLnR5cGUsCiAgICAgICAgZmxvb3JDb21tZW50SWQ6IGZsb29yQ29tbWVudC5pZAogICAgICB9OwogICAgICB0aGlzLmdldENvbW1lbnRzKHBhZ2luYXRpb24sIGZsb29yQ29tbWVudCwgdHJ1ZSk7CiAgICB9LAogICAgZW1vamk6IGZ1bmN0aW9uIGVtb2ppKGNvbW1lbnRzLCBmbGFnKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgY29tbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoYykgewogICAgICAgIGMuY29tbWVudENvbnRlbnQgPSBjLmNvbW1lbnRDb250ZW50LnJlcGxhY2UoL1xuL2csICc8YnIvPicpOwogICAgICAgIGMuY29tbWVudENvbnRlbnQgPSBfdGhpczIuJGNvbW1vbi5mYWNlUmVnKGMuY29tbWVudENvbnRlbnQpOwogICAgICAgIGMuY29tbWVudENvbnRlbnQgPSBfdGhpczIuJGNvbW1vbi5waWN0dXJlUmVnKGMuY29tbWVudENvbnRlbnQpOwoKICAgICAgICBpZiAoZmxhZykgewogICAgICAgICAgaWYgKCFfdGhpczIuJGNvbW1vbi5pc0VtcHR5KGMuY2hpbGRDb21tZW50cykgJiYgIV90aGlzMi4kY29tbW9uLmlzRW1wdHkoYy5jaGlsZENvbW1lbnRzLnJlY29yZHMpKSB7CiAgICAgICAgICAgIGMuY2hpbGRDb21tZW50cy5yZWNvcmRzLmZvckVhY2goZnVuY3Rpb24gKGNjKSB7CiAgICAgICAgICAgICAgYy5jb21tZW50Q29udGVudCA9IGMuY29tbWVudENvbnRlbnQucmVwbGFjZSgvXG4vZywgJzxici8+Jyk7CiAgICAgICAgICAgICAgY2MuY29tbWVudENvbnRlbnQgPSBfdGhpczIuJGNvbW1vbi5mYWNlUmVnKGNjLmNvbW1lbnRDb250ZW50KTsKICAgICAgICAgICAgICBjYy5jb21tZW50Q29udGVudCA9IF90aGlzMi4kY29tbW9uLnBpY3R1cmVSZWcoY2MuY29tbWVudENvbnRlbnQpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldENvbW1lbnRzOiBmdW5jdGlvbiBnZXRDb21tZW50cyhwYWdpbmF0aW9uKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGZsb29yQ29tbWVudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307CiAgICAgIHZhciBpc1RvUGFnZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogZmFsc2U7CiAgICAgIHRoaXMuJGh0dHAucG9zdCgiaHR0cDovLzQ3Ljk2Ljg2LjIyMzo4MDgxL2FwaSIgKyAiL2NvbW1lbnQvbGlzdENvbW1lbnQiLCBwYWdpbmF0aW9uKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAoIV90aGlzMy4kY29tbW9uLmlzRW1wdHkocmVzLmRhdGEpICYmICFfdGhpczMuJGNvbW1vbi5pc0VtcHR5KHJlcy5kYXRhLnJlY29yZHMpKSB7CiAgICAgICAgICBpZiAoX3RoaXMzLiRjb21tb24uaXNFbXB0eShmbG9vckNvbW1lbnQpKSB7CiAgICAgICAgICAgIF90aGlzMy5jb21tZW50cyA9IHJlcy5kYXRhLnJlY29yZHM7CiAgICAgICAgICAgIHBhZ2luYXRpb24udG90YWwgPSByZXMuZGF0YS50b3RhbDsKCiAgICAgICAgICAgIF90aGlzMy5lbW9qaShfdGhpczMuY29tbWVudHMsIHRydWUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKGlzVG9QYWdlID09PSBmYWxzZSkgewogICAgICAgICAgICAgIGZsb29yQ29tbWVudC5jaGlsZENvbW1lbnRzID0gcmVzLmRhdGE7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgZmxvb3JDb21tZW50LmNoaWxkQ29tbWVudHMudG90YWwgPSByZXMuZGF0YS50b3RhbDsKICAgICAgICAgICAgICBmbG9vckNvbW1lbnQuY2hpbGRDb21tZW50cy5yZWNvcmRzID0gZmxvb3JDb21tZW50LmNoaWxkQ29tbWVudHMucmVjb3Jkcy5jb25jYXQocmVzLmRhdGEucmVjb3Jkcyk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIF90aGlzMy5lbW9qaShmbG9vckNvbW1lbnQuY2hpbGRDb21tZW50cy5yZWNvcmRzLCBmYWxzZSk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzMy4kY29tbW9uLmltZ1Nob3coIiNjb21tZW50LWNvbnRlbnQgLnBpY3R1cmVSZWciKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsCiAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZEdyYWZmaXRpQ29tbWVudDogZnVuY3Rpb24gYWRkR3JhZmZpdGlDb21tZW50KGdyYWZmaXRpQ29tbWVudCkgewogICAgICB0aGlzLnN1Ym1pdENvbW1lbnQoZ3JhZmZpdGlDb21tZW50KTsKICAgIH0sCiAgICBzdWJtaXRDb21tZW50OiBmdW5jdGlvbiBzdWJtaXRDb21tZW50KGNvbW1lbnRDb250ZW50KSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIGNvbW1lbnQgPSB7CiAgICAgICAgc291cmNlOiB0aGlzLnNvdXJjZSwKICAgICAgICB0eXBlOiB0aGlzLnR5cGUsCiAgICAgICAgY29tbWVudENvbnRlbnQ6IGNvbW1lbnRDb250ZW50CiAgICAgIH07CiAgICAgIHRoaXMuJGh0dHAucG9zdCgiaHR0cDovLzQ3Ljk2Ljg2LjIyMzo4MDgxL2FwaSIgKyAiL2NvbW1lbnQvc2F2ZUNvbW1lbnQiLCBjb21tZW50KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczQuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgbWVzc2FnZTogJ+S/neWtmOaIkOWKn++8gScKICAgICAgICB9KTsKCiAgICAgICAgX3RoaXM0LnBhZ2luYXRpb24gPSB7CiAgICAgICAgICBjdXJyZW50OiAxLAogICAgICAgICAgc2l6ZTogMTAsCiAgICAgICAgICB0b3RhbDogMCwKICAgICAgICAgIHNvdXJjZTogX3RoaXM0LnNvdXJjZSwKICAgICAgICAgIGNvbW1lbnRUeXBlOiBfdGhpczQudHlwZSwKICAgICAgICAgIGZsb29yQ29tbWVudElkOiBudWxsCiAgICAgICAgfTsKCiAgICAgICAgX3RoaXM0LmdldENvbW1lbnRzKF90aGlzNC5wYWdpbmF0aW9uKTsKCiAgICAgICAgX3RoaXM0LmdldFRvdGFsKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIF90aGlzNC4kbWVzc2FnZSh7CiAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLAogICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBzdWJtaXRSZXBseTogZnVuY3Rpb24gc3VibWl0UmVwbHkoY29tbWVudENvbnRlbnQpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB2YXIgY29tbWVudCA9IHsKICAgICAgICBzb3VyY2U6IHRoaXMuc291cmNlLAogICAgICAgIHR5cGU6IHRoaXMudHlwZSwKICAgICAgICBmbG9vckNvbW1lbnRJZDogdGhpcy5mbG9vckNvbW1lbnQuaWQsCiAgICAgICAgY29tbWVudENvbnRlbnQ6IGNvbW1lbnRDb250ZW50LAogICAgICAgIHBhcmVudENvbW1lbnRJZDogdGhpcy5yZXBseUNvbW1lbnQuaWQsCiAgICAgICAgcGFyZW50VXNlcklkOiB0aGlzLnJlcGx5Q29tbWVudC51c2VySWQKICAgICAgfTsKICAgICAgdmFyIGZsb29yQ29tbWVudCA9IHRoaXMuZmxvb3JDb21tZW50OwogICAgICB0aGlzLiRodHRwLnBvc3QoImh0dHA6Ly80Ny45Ni44Ni4yMjM6ODA4MS9hcGkiICsgIi9jb21tZW50L3NhdmVDb21tZW50IiwgY29tbWVudCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIHBhZ2luYXRpb24gPSB7CiAgICAgICAgICBjdXJyZW50OiAxLAogICAgICAgICAgc2l6ZTogNSwKICAgICAgICAgIHRvdGFsOiAwLAogICAgICAgICAgc291cmNlOiBfdGhpczUuc291cmNlLAogICAgICAgICAgY29tbWVudFR5cGU6IF90aGlzNS50eXBlLAogICAgICAgICAgZmxvb3JDb21tZW50SWQ6IGZsb29yQ29tbWVudC5pZAogICAgICAgIH07CgogICAgICAgIF90aGlzNS5nZXRDb21tZW50cyhwYWdpbmF0aW9uLCBmbG9vckNvbW1lbnQpOwoKICAgICAgICBfdGhpczUuZ2V0VG90YWwoKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgX3RoaXM1LiRtZXNzYWdlKHsKICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsCiAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgICB0aGlzLmhhbmRsZUNsb3NlKCk7CiAgICB9LAogICAgcmVwbHlEaWFsb2c6IGZ1bmN0aW9uIHJlcGx5RGlhbG9nKGNvbW1lbnQsIGZsb29yQ29tbWVudCkgewogICAgICB0aGlzLnJlcGx5Q29tbWVudCA9IGNvbW1lbnQ7CiAgICAgIHRoaXMuZmxvb3JDb21tZW50ID0gZmxvb3JDb21tZW50OwogICAgICB0aGlzLnJlcGx5RGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgaGFuZGxlQ2xvc2U6IGZ1bmN0aW9uIGhhbmRsZUNsb3NlKCkgewogICAgICB0aGlzLnJlcGx5RGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICB0aGlzLmZsb29yQ29tbWVudCA9IHt9OwogICAgICB0aGlzLnJlcGx5Q29tbWVudCA9IHt9OwogICAgfQogIH0KfTs="},{"version":3,"mappings":"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","names":["components","graffiti","commentBox","proPage","props","source","type","userId","data","isGraffiti","total","replyDialogVisible","floorComment","replyComment","comments","pagination","current","size","commentType","floorCommentId","computed","created","methods","toPage","page","window","top","getTotal","then","catch","message","toChildPage","emoji","flag","c","cc","getComments","addGraffitiComment","graffitiComment","submitComment","commentContent","submitReply","parentCommentId","parentUserId","replyDialog","comment","handleClose"],"sourceRoot":"src/components/comment","sources":["comment.vue"],"sourcesContent":["<template>\n  <div>\n    <!-- 评论框 -->\n    <div style=\"margin-bottom: 40px\">\n      <div class=\"comment-head\">\n        <i class=\"el-icon-edit-outline\" style=\"font-weight: bold;font-size: 22px;\"></i> 留言\n      </div>\n      <div>\n        <!-- 文字评论 -->\n        <div v-show=\"!isGraffiti\">\n          <commentBox @showGraffiti=\"isGraffiti = !isGraffiti\"\n                      @submitComment=\"submitComment\">\n          </commentBox>\n        </div>\n        <!-- 画笔 -->\n       <div v-show=\"isGraffiti\">\n         <graffiti @showComment=\"isGraffiti = !isGraffiti\"\n                    @addGraffitiComment=\"addGraffitiComment\">\n         </graffiti>\n       </div>\n      </div>\n    </div>\n\n    <!-- 评论内容 -->\n    <div v-if=\"comments.length > 0\">\n      <!-- 评论数量 -->\n      <div class=\"commentInfo-title\">\n        <span style=\"font-size: 1.15rem\">Comments | </span>\n        <span>{{ total }} 条留言</span>\n      </div>\n      <!-- 评论详情 -->\n      <div id=\"comment-content\" class=\"commentInfo-detail\"\n           v-for=\"(item, index) in comments\"\n           :key=\"index\">\n        <!-- 头像 -->\n        <el-avatar shape=\"square\" class=\"commentInfo-avatar\" :size=\"35\" :src=\"item.avatar\"></el-avatar>\n\n        <div style=\"flex: 1;padding-left: 12px\">\n          <!-- 评论信息 -->\n          <div style=\"display: flex;justify-content: space-between\">\n            <div>\n              <span class=\"commentInfo-username\">{{ item.username }}</span>\n              <span class=\"commentInfo-master\" v-if=\"item.userId === userId\">主人翁</span>\n              <span class=\"commentInfo-other\">{{ $common.getDateDiff(item.createTime) }}</span>\n            </div>\n            <div class=\"commentInfo-reply\" @click=\"replyDialog(item, item)\">\n              <span v-if=\"item.childComments.total > 0\">{{item.childComments.total}} </span><span>回复</span>\n            </div>\n          </div>\n          <!-- 评论内容 -->\n          <div class=\"commentInfo-content\">\n            <span v-html=\"item.commentContent\"></span>\n          </div>\n          <!-- 回复模块 -->\n          <div v-if=\"!$common.isEmpty(item.childComments) && !$common.isEmpty(item.childComments.records)\">\n            <div class=\"commentInfo-detail\" v-for=\"(childItem, i) in item.childComments.records\" :key=\"i\">\n              <!-- 头像 -->\n              <el-avatar shape=\"square\" class=\"commentInfo-avatar\" :size=\"30\" :src=\"childItem.avatar\"></el-avatar>\n\n              <div style=\"flex: 1;padding-left: 12px\">\n                <!-- 评论信息 -->\n                <div style=\"display: flex;justify-content: space-between\">\n                  <div>\n                    <span class=\"commentInfo-username-small\">{{ childItem.username }}</span>\n                    <span class=\"commentInfo-master\" v-if=\"childItem.userId === userId\">主人翁</span>\n                    <span class=\"commentInfo-other\">{{ $common.getDateDiff(childItem.createTime) }}</span>\n                  </div>\n                  <div>\n                    <span class=\"commentInfo-reply\" @click=\"replyDialog(childItem, item)\">回复</span>\n                  </div>\n                </div>\n                <!-- 评论内容 -->\n                <div class=\"commentInfo-content\">\n                  <template v-if=\"childItem.parentCommentId !== item.id &&\n                                  childItem.parentUserId !== childItem.userId\">\n                    <span style=\"color: var(--blue)\">@{{ childItem.parentUsername }} </span>:\n                  </template>\n                  <span v-html=\"childItem.commentContent\"></span>\n                </div>\n              </div>\n            </div>\n            <!-- 分页 -->\n            <div class=\"pagination-wrap\" v-if=\"item.childComments.records.length < item.childComments.total\">\n              <div class=\"pagination\"\n                   @click=\"toChildPage(item)\">\n                展开\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- 分页 -->\n      <proPage :current=\"pagination.current\"\n               :size=\"pagination.size\"\n               :total=\"pagination.total\"\n               :buttonSize=\"6\"\n               :color=\"$constant.commentPageColor\"\n               @toPage=\"toPage\">\n      </proPage>\n    </div>\n\n    <div v-else class=\"myCenter\" style=\"color: var(--greyFont)\">\n      <i>来发第一个留言啦~</i>\n    </div>\n\n    <el-dialog title=\"留言\"\n               :visible.sync=\"replyDialogVisible\"\n               width=\"30%\"\n               :before-close=\"handleClose\"\n               :append-to-body=\"true\"\n               :close-on-click-modal=\"false\"\n               destroy-on-close\n               center>\n      <div>\n        <commentBox :disableGraffiti=\"true\"\n                    @submitComment=\"submitReply\">\n        </commentBox>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n  const graffiti = () => import( \"./graffiti\");\n  const commentBox = () => import( \"./commentBox\");\n  const proPage = () => import( \"../common/proPage\");\n\n  export default {\n    components: {\n      graffiti,\n      commentBox,\n      proPage\n    },\n    props: {\n      source: {\n        type: Number\n      },\n      type: {\n        type: String\n      },\n      userId: {\n        type: Number\n      }\n    },\n    data() {\n      return {\n        isGraffiti: false,\n        total: 0,\n        replyDialogVisible: false,\n        floorComment: {},\n        replyComment: {},\n        comments: [],\n        pagination: {\n          current: 1,\n          size: 10,\n          total: 0,\n          source: this.source,\n          commentType: this.type,\n          floorCommentId: null\n        }\n      };\n    },\n\n    computed: {},\n\n    created() {\n      this.getComments(this.pagination);\n      this.getTotal();\n    },\n    methods: {\n      toPage(page) {\n        this.pagination.current = page;\n        window.scrollTo({\n          top: document.getElementById('comment-content').offsetTop\n        });\n        this.getComments(this.pagination);\n      },\n      getTotal() {\n        this.$http.get(\"http://47.96.86.223:8081/api\" + \"/comment/getCommentCount\", {source: this.source, type: this.type})\n          .then((res) => {\n            if (!this.$common.isEmpty(res.data)) {\n              this.total = res.data;\n            }\n          })\n          .catch((error) => {\n            this.$message({\n              message: error.message,\n              type: \"error\"\n            });\n          });\n      },\n      toChildPage(floorComment) {\n        floorComment.childComments.current += 1;\n        let pagination = {\n          current: floorComment.childComments.current,\n          size: 5,\n          total: 0,\n          source: this.source,\n          commentType: this.type,\n          floorCommentId: floorComment.id\n        }\n        this.getComments(pagination, floorComment, true);\n      },\n      emoji(comments, flag) {\n        comments.forEach(c => {\n          c.commentContent = c.commentContent.replace(/\\n/g, '<br/>');\n          c.commentContent = this.$common.faceReg(c.commentContent);\n          c.commentContent = this.$common.pictureReg(c.commentContent);\n          if (flag) {\n            if (!this.$common.isEmpty(c.childComments) && !this.$common.isEmpty(c.childComments.records)) {\n              c.childComments.records.forEach(cc => {\n                c.commentContent = c.commentContent.replace(/\\n/g, '<br/>');\n                cc.commentContent = this.$common.faceReg(cc.commentContent);\n                cc.commentContent = this.$common.pictureReg(cc.commentContent);\n              });\n            }\n          }\n        });\n      },\n      getComments(pagination, floorComment = {}, isToPage = false) {\n        this.$http.post(\"http://47.96.86.223:8081/api\" + \"/comment/listComment\", pagination)\n          .then((res) => {\n            if (!this.$common.isEmpty(res.data) && !this.$common.isEmpty(res.data.records)) {\n              if (this.$common.isEmpty(floorComment)) {\n                this.comments = res.data.records;\n                pagination.total = res.data.total;\n                this.emoji(this.comments, true);\n              } else {\n                if (isToPage === false) {\n                  floorComment.childComments = res.data;\n                } else {\n                  floorComment.childComments.total = res.data.total;\n                  floorComment.childComments.records = floorComment.childComments.records.concat(res.data.records);\n                }\n                this.emoji(floorComment.childComments.records, false);\n              }\n              this.$nextTick(() => {\n                this.$common.imgShow(\"#comment-content .pictureReg\");\n              });\n            }\n          })\n          .catch((error) => {\n            this.$message({\n              message: error.message,\n              type: \"error\"\n            });\n          });\n      },\n      addGraffitiComment(graffitiComment) {\n        this.submitComment(graffitiComment);\n      },\n      submitComment(commentContent) {\n        let comment = {\n          source: this.source,\n          type: this.type,\n          commentContent: commentContent\n        };\n\n        this.$http.post(\"http://47.96.86.223:8081/api\" + \"/comment/saveComment\", comment)\n          .then((res) => {\n            this.$message({\n              type: 'success',\n              message: '保存成功！'\n            });\n            this.pagination = {\n              current: 1,\n              size: 10,\n              total: 0,\n              source: this.source,\n              commentType: this.type,\n              floorCommentId: null\n            }\n            this.getComments(this.pagination);\n            this.getTotal();\n          })\n          .catch((error) => {\n            this.$message({\n              message: error.message,\n              type: \"error\"\n            });\n          });\n      },\n      submitReply(commentContent) {\n        let comment = {\n          source: this.source,\n          type: this.type,\n          floorCommentId: this.floorComment.id,\n          commentContent: commentContent,\n          parentCommentId: this.replyComment.id,\n          parentUserId: this.replyComment.userId\n        };\n\n        let floorComment = this.floorComment;\n\n        this.$http.post(\"http://47.96.86.223:8081/api\" + \"/comment/saveComment\", comment)\n          .then((res) => {\n            let pagination = {\n              current: 1,\n              size: 5,\n              total: 0,\n              source: this.source,\n              commentType: this.type,\n              floorCommentId: floorComment.id\n            }\n            this.getComments(pagination, floorComment);\n            this.getTotal();\n          })\n          .catch((error) => {\n            this.$message({\n              message: error.message,\n              type: \"error\"\n            });\n          });\n        this.handleClose();\n      },\n      replyDialog(comment, floorComment) {\n        this.replyComment = comment;\n        this.floorComment = floorComment;\n        this.replyDialogVisible = true;\n      },\n      handleClose() {\n        this.replyDialogVisible = false;\n        this.floorComment = {};\n        this.replyComment = {};\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n  .comment-head {\n    display: flex;\n    align-items: center;\n    font-size: 20px;\n    font-weight: bold;\n    margin: 40px 0 20px 0;\n    user-select: none;\n    color: var(--themeBackground);\n  }\n\n  .commentInfo-title {\n    margin-bottom: 20px;\n    color: var(--greyFont);\n    user-select: none;\n  }\n\n  #comment-content {\n    border-bottom: 1px solid rgba(0, 0, 0, 0.1);\n    margin-bottom: 20px;\n  }\n\n  .commentInfo-detail {\n    display: flex;\n  }\n\n  .commentInfo-avatar {\n    border-radius: 5px;\n  }\n\n  .commentInfo-username {\n    color: var(--orangeRed);\n    font-size: 16px;\n    font-weight: 600;\n    margin-right: 5px;\n  }\n\n  .commentInfo-username-small {\n    color: var(--orangeRed);\n    font-size: 14px;\n    font-weight: 600;\n    margin-right: 5px;\n  }\n\n  .commentInfo-master {\n    color: var(--green);\n    border: 1px solid var(--green);\n    border-radius: 0.2rem;\n    font-size: 12px;\n    padding: 2px 4px;\n    margin-right: 5px;\n  }\n\n  .commentInfo-other {\n    font-size: 12px;\n    color: var(--greyFont);\n    user-select: none;\n  }\n\n  .commentInfo-reply {\n    font-size: 12px;\n    cursor: pointer;\n    user-select: none;\n    color: var(--white);\n    background: var(--themeBackground);\n    border-radius: 0.2rem;\n    padding: 3px 6px;\n  }\n\n  .commentInfo-content {\n    margin: 15px 0 25px;\n    padding: 18px 20px;\n    background: var(--commentContent);\n    border-radius: 12px;\n    color: var(--black);\n    word-break: break-word;\n  }\n\n  .pagination-wrap {\n    display: flex;\n    justify-content: center;\n    margin-bottom: 10px;\n  }\n\n  .pagination {\n    padding: 6px 20px;\n    border: 1px solid var(--lightGray);\n    border-radius: 3rem;\n    color: var(--greyFont);\n    user-select: none;\n    cursor: pointer;\n    text-align: center;\n    font-size: 12px;\n  }\n\n  .pagination:hover {\n    border: 1px solid var(--themeBackground);\n    color: var(--themeBackground);\n    box-shadow: 0 0 5px var(--themeBackground);\n  }\n</style>\n"]}]}