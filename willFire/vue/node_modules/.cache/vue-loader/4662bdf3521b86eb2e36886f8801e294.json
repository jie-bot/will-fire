{"remainingRequest":"C:\\Users\\32179\\Desktop\\will-fire\\willFire\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\32179\\Desktop\\will-fire\\willFire\\vue\\src\\components\\admin\\configList.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\32179\\Desktop\\will-fire\\willFire\\vue\\src\\components\\admin\\configList.vue","mtime":1723964853964},{"path":"C:\\Users\\32179\\Desktop\\will-fire\\willFire\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1723800259159},{"path":"C:\\Users\\32179\\Desktop\\will-fire\\willFire\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1723800259743},{"path":"C:\\Users\\32179\\Desktop\\will-fire\\willFire\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1723800259159},{"path":"C:\\Users\\32179\\Desktop\\will-fire\\willFire\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1723800259896}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29uZmlnRGlhbG9nOiBmYWxzZSwKICAgICAgY29uZmlnTGlzdDogW10sCiAgICAgIGNvbmZpZzogewogICAgICAgIGlkOiBudWxsLAogICAgICAgIGNvbmZpZ05hbWU6ICIiLAogICAgICAgIGNvbmZpZ0tleTogIiIsCiAgICAgICAgY29uZmlnVmFsdWU6ICIiLAogICAgICAgIGNvbmZpZ1R5cGU6ICIiCiAgICAgIH0KICAgIH0KICB9LAoKICBjb21wdXRlZDoge30sCgogIHdhdGNoOiB7fSwKCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0Q29uZmlnSW5mbygpOwogIH0sCgogIG1vdW50ZWQoKSB7CgogIH0sCgogIG1ldGhvZHM6IHsKICAgIGRlbGV0ZUhhbmRsZShpZCkgewogICAgICB0aGlzLiRjb25maXJtKCfnoa7orqTliKDpmaTvvJ8nLCAn5o+Q56S6JywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgY2VudGVyOiB0cnVlCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuJGh0dHAuZ2V0KCJodHRwOi8vNDcuOTYuODYuMjIzOjgwODEvYXBpIiArICIvc3lzQ29uZmlnL2RlbGV0ZUNvbmZpZyIsIHtpZDogaWR9LCB0cnVlKQogICAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICBtZXNzYWdlOiAi5Yig6Zmk5oiQ5Yqf77yBIiwKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMuZ2V0Q29uZmlnSW5mbygpOwogICAgICAgICAgICB0aGlzLmhhbmRsZUNsb3NlKCk7CiAgICAgICAgICB9KQogICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLAogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgfSkuY2F0Y2goKCkgPT4gewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iOWIoOmZpCEnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHNhdmVPckVkaXRDb25maWcoKSB7CiAgICAgIGlmICh0aGlzLiRjb21tb24uaXNFbXB0eSh0aGlzLmNvbmZpZy5jb25maWdOYW1lKSB8fAogICAgICAgIHRoaXMuJGNvbW1vbi5pc0VtcHR5KHRoaXMuY29uZmlnLmNvbmZpZ0tleSkgfHwKICAgICAgICB0aGlzLiRjb21tb24uaXNFbXB0eSh0aGlzLmNvbmZpZy5jb25maWdUeXBlKSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogIuivt+WujOWWhOaJgOaciemFjee9ruS/oeaBr++8gSIsCiAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLiRodHRwLnBvc3QoImh0dHA6Ly80Ny45Ni44Ni4yMjM6ODA4MS9hcGkiICsgIi9zeXNDb25maWcvc2F2ZU9yVXBkYXRlQ29uZmlnIiwgdGhpcy5jb25maWcsIHRydWUpCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIG1lc3NhZ2U6ICLkv53lrZjmiJDlip/vvIEiLAogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5nZXRDb25maWdJbmZvKCk7CiAgICAgICAgICB0aGlzLmhhbmRsZUNsb3NlKCk7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSwKICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICB9LAogICAgZWRpdENvbmZpZyhjb25maWcpIHsKICAgICAgdGhpcy5jb25maWdEaWFsb2cgPSB0cnVlOwogICAgICB0aGlzLmNvbmZpZy5pZCA9IGNvbmZpZy5pZDsKICAgICAgdGhpcy5jb25maWcuY29uZmlnTmFtZSA9IGNvbmZpZy5jb25maWdOYW1lOwogICAgICB0aGlzLmNvbmZpZy5jb25maWdLZXkgPSBjb25maWcuY29uZmlnS2V5OwogICAgICB0aGlzLmNvbmZpZy5jb25maWdWYWx1ZSA9IGNvbmZpZy5jb25maWdWYWx1ZTsKICAgICAgdGhpcy5jb25maWcuY29uZmlnVHlwZSA9IGNvbmZpZy5jb25maWdUeXBlOwogICAgfSwKICAgIGhhbmRsZUNsb3NlKCkgewogICAgICB0aGlzLmNvbmZpZyA9IHsKICAgICAgICBpZDogbnVsbCwKICAgICAgICBjb25maWdOYW1lOiAiIiwKICAgICAgICBjb25maWdLZXk6ICIiLAogICAgICAgIGNvbmZpZ1ZhbHVlOiAiIiwKICAgICAgICBjb25maWdUeXBlOiAiIgogICAgICB9OwogICAgICB0aGlzLmNvbmZpZ0RpYWxvZyA9IGZhbHNlOwogICAgfSwKICAgIGdldENvbmZpZ0luZm8oKSB7CiAgICAgIHRoaXMuJGh0dHAuZ2V0KCJodHRwOi8vNDcuOTYuODYuMjIzOjgwODEvYXBpIiArICIvc3lzQ29uZmlnL2xpc3RDb25maWciLCB7fSwgdHJ1ZSkKICAgICAgICAudGhlbigocmVzKSA9PiB7CiAgICAgICAgICBpZiAoIXRoaXMuJGNvbW1vbi5pc0VtcHR5KHJlcy5kYXRhKSkgewogICAgICAgICAgICB0aGlzLmNvbmZpZ0xpc3QgPSByZXMuZGF0YTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["configList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"configList.vue","sourceRoot":"src/components/admin","sourcesContent":["<template>\n  <div>\n    <div style=\"margin-bottom: 20px\">\n      <el-button type=\"primary\" @click=\"configDialog = true\">新增配置</el-button>\n    </div>\n    <el-table :data=\"configList\" height=\"75vh\" border class=\"table\" header-cell-class-name=\"table-header\">\n      <el-table-column prop=\"id\" label=\"ID\" width=\"55\" align=\"center\"></el-table-column>\n      <el-table-column prop=\"configName\" label=\"名称\" align=\"center\"></el-table-column>\n      <el-table-column prop=\"configKey\" label=\"键名\" align=\"center\"></el-table-column>\n      <el-table-column prop=\"configValue\" label=\"键值\" align=\"center\"></el-table-column>\n      <el-table-column label=\"类型\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <span v-if=\"scope.row.configType === '1'\">私有</span>\n          <span v-else-if=\"scope.row.configType === '2'\">公开</span>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" width=\"200\" align=\"center\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" icon=\"el-icon-edit\" @click=\"editConfig(scope.row)\">\n            编辑\n          </el-button>\n          <el-button type=\"text\" icon=\"el-icon-delete\" style=\"color: var(--orangeRed)\"\n                     @click=\"deleteHandle(scope.row.id)\">\n            删除\n          </el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <el-dialog title=\"配置\"\n               :visible.sync=\"configDialog\"\n               width=\"30%\"\n               :before-close=\"handleClose\"\n               :append-to-body=\"true\"\n               destroy-on-close\n               center>\n      <div class=\"my-dialog\">\n        <div class=\"myCenter\">\n          <el-radio-group v-model=\"config.configType\">\n            <el-radio-button label=\"1\">私有</el-radio-button>\n            <el-radio-button label=\"2\">公开</el-radio-button>\n          </el-radio-group>\n        </div>\n        <el-input placeholder=\"请输入名称\" v-model=\"config.configName\">\n          <template slot=\"prepend\">名称</template>\n        </el-input>\n        <el-input placeholder=\"请输入键名\" v-model=\"config.configKey\">\n          <template slot=\"prepend\">键名</template>\n        </el-input>\n        <el-input placeholder=\"请输入键值\" v-model=\"config.configValue\">\n          <template slot=\"prepend\">键值</template>\n        </el-input>\n      </div>\n\n      <span slot=\"footer\" class=\"dialog-footer\">\n          <el-button @click=\"handleClose()\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"saveOrEditConfig()\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      configDialog: false,\n      configList: [],\n      config: {\n        id: null,\n        configName: \"\",\n        configKey: \"\",\n        configValue: \"\",\n        configType: \"\"\n      }\n    }\n  },\n\n  computed: {},\n\n  watch: {},\n\n  created() {\n    this.getConfigInfo();\n  },\n\n  mounted() {\n\n  },\n\n  methods: {\n    deleteHandle(id) {\n      this.$confirm('确认删除？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'success',\n        center: true\n      }).then(() => {\n        this.$http.get(\"http://47.96.86.223:8081/api\" + \"/sysConfig/deleteConfig\", {id: id}, true)\n          .then((res) => {\n            this.$message({\n              message: \"删除成功！\",\n              type: \"success\"\n            });\n            this.getConfigInfo();\n            this.handleClose();\n          })\n          .catch((error) => {\n            this.$message({\n              message: error.message,\n              type: \"error\"\n            });\n          });\n      }).catch(() => {\n        this.$message({\n          type: 'success',\n          message: '已取消删除!'\n        });\n      });\n    },\n    saveOrEditConfig() {\n      if (this.$common.isEmpty(this.config.configName) ||\n        this.$common.isEmpty(this.config.configKey) ||\n        this.$common.isEmpty(this.config.configType)) {\n        this.$message({\n          message: \"请完善所有配置信息！\",\n          type: \"error\"\n        });\n        return;\n      }\n\n      this.$http.post(\"http://47.96.86.223:8081/api\" + \"/sysConfig/saveOrUpdateConfig\", this.config, true)\n        .then((res) => {\n          this.$message({\n            message: \"保存成功！\",\n            type: \"success\"\n          });\n          this.getConfigInfo();\n          this.handleClose();\n        })\n        .catch((error) => {\n          this.$message({\n            message: error.message,\n            type: \"error\"\n          });\n        });\n    },\n    editConfig(config) {\n      this.configDialog = true;\n      this.config.id = config.id;\n      this.config.configName = config.configName;\n      this.config.configKey = config.configKey;\n      this.config.configValue = config.configValue;\n      this.config.configType = config.configType;\n    },\n    handleClose() {\n      this.config = {\n        id: null,\n        configName: \"\",\n        configKey: \"\",\n        configValue: \"\",\n        configType: \"\"\n      };\n      this.configDialog = false;\n    },\n    getConfigInfo() {\n      this.$http.get(\"http://47.96.86.223:8081/api\" + \"/sysConfig/listConfig\", {}, true)\n        .then((res) => {\n          if (!this.$common.isEmpty(res.data)) {\n            this.configList = res.data;\n          }\n        })\n        .catch((error) => {\n          this.$message({\n            message: error.message,\n            type: \"error\"\n          });\n        });\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n.my-dialog > div {\n  margin: 12px;\n}\n\n.my-dialog >>> input::-webkit-inner-spin-button {\n  appearance: none;\n}\n\n</style>\n"]}]}