{"remainingRequest":"C:\\Users\\32179\\Desktop\\will-fire\\willFire\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\32179\\Desktop\\will-fire\\willFire\\vue\\src\\components\\common\\printer.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\32179\\Desktop\\will-fire\\willFire\\vue\\src\\components\\common\\printer.vue","mtime":1723904809918},{"path":"C:\\Users\\32179\\Desktop\\will-fire\\willFire\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1723800259159},{"path":"C:\\Users\\32179\\Desktop\\will-fire\\willFire\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1723800259743},{"path":"C:\\Users\\32179\\Desktop\\will-fire\\willFire\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1723800259159},{"path":"C:\\Users\\32179\\Desktop\\will-fire\\willFire\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1723800259896}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgLy/lhoXlrrkKICAgIHByaW50ZXJJbmZvOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIiIKICAgIH0sCiAgICAvL+mAn+W6pgogICAgZHVyYXRpb246IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxMDAKICAgIH0sCiAgICAvL+W7tui/nwogICAgZGVsYXk6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAzMDAwCiAgICB9LAogICAgd29ya2luZzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgb25jZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNvbnRlbnQ6ICIiLAogICAgICBjdXJzb3I6IDAsCiAgICAgIHRpbWVyOiBudWxsLAogICAgICB0aW1lb3V0OiBudWxsLAogICAgICBwcmludDogdHJ1ZQogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy53b3JraW5nKSB7CiAgICAgIC8vdGhpcy53b3Jr77ya5byV55So5Ye95pWwCiAgICAgIC8vdGhpcy53b3JrKCnvvJrmiafooYzlh73mlbAKICAgICAgdGhpcy5zdGFydCh0aGlzLndvcmspOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy5jb250ZW50ID0gdGhpcy5wcmludGVySW5mbwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHdvcmtpbmcobmV3VmFsKSB7CiAgICAgIHRoaXMudG9CZWdpbigpOwogICAgfSwKICAgIHByaW50ZXJJbmZvKG5ld1ZhbCkgewogICAgICB0aGlzLnRvQmVnaW4oKTsKICAgIH0sCiAgICBjdXJzb3IoY3Vyc29yKSB7CiAgICAgIC8vc2xpY2Uoc3RhcnQsZW5kKe+8muS4jeWMheWQq2VuZAogICAgICB0aGlzLmNvbnRlbnQgPSB0aGlzLnByaW50ZXJJbmZvLnNsaWNlKDAsIGN1cnNvcikKICAgIH0KICB9LAogIGJlZm9yZURlc3Ryb3koKSB7CiAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogIH0sCiAgbWV0aG9kczogewogICAgLyoqCiAgICAgKiDlrprml7YKICAgICAqLwogICAgc3RhcnQod29yaykgewogICAgICAvL+W7tui/nwogICAgICB0aGlzLnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAvL+mAn+W6pgogICAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICB3b3JrKCk7CiAgICAgICAgICBpZiAodGhpcy5jdXJzb3IgPT09IDAgfHwgKHRoaXMuY3Vyc29yID09PSB0aGlzLnByaW50ZXJJbmZvLmxlbmd0aCAmJiAhdGhpcy5vbmNlKSkgewogICAgICAgICAgICAvL+atpOWkhOS4uuS6huW7tui/nwogICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogICAgICAgICAgICB0aGlzLnN0YXJ0KHRoaXMud29yayk7CiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuY3Vyc29yID09PSB0aGlzLnByaW50ZXJJbmZvLmxlbmd0aCAmJiB0aGlzLm9uY2UpIHsKICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTsKICAgICAgICAgIH0KICAgICAgICB9LCB0aGlzLmR1cmF0aW9uKTsKICAgICAgfSwgdGhpcy5kZWxheSkKICAgIH0sCiAgICAvKioKICAgICAqIOmAu+i+kQogICAgICovCiAgICB3b3JrKCkgewogICAgICBsZXQgY3Vyc29yID0gdGhpcy5jdXJzb3I7CiAgICAgIGN1cnNvciArPSB0aGlzLnByaW50ID8gMSA6IC0xOwogICAgICBpZiAodGhpcy5wcmludCkgewogICAgICAgIGlmIChjdXJzb3IgPT09IHRoaXMucHJpbnRlckluZm8ubGVuZ3RoICsgMSkgewogICAgICAgICAgY3Vyc29yIC09IDI7CiAgICAgICAgICB0aGlzLnByaW50ID0gIXRoaXMucHJpbnQ7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmIChjdXJzb3IgPT09IC0xKSB7CiAgICAgICAgICBjdXJzb3IgKz0gMjsKICAgICAgICAgIHRoaXMucHJpbnQgPSAhdGhpcy5wcmludDsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5jdXJzb3IgPSBjdXJzb3I7CiAgICB9LAogICAgdG9CZWdpbigpIHsKICAgICAgdGhpcy5jdXJzb3IgPSAwOwogICAgICBpZiAodGhpcy50aW1lb3V0ICE9PSBudWxsKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7CiAgICAgICAgaWYgKHRoaXMudGltZXIgIT09IG51bGwpIHsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICh0aGlzLndvcmtpbmcpIHsKICAgICAgICB0aGlzLnN0YXJ0KHRoaXMud29yayk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jb250ZW50ID0gdGhpcy5wcmludGVySW5mbzsKICAgICAgfQogICAgfQogIH0KfTsK"},{"version":3,"sources":["printer.vue"],"names":[],"mappings":";;;;;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"printer.vue","sourceRoot":"src/components/common","sourcesContent":["<template>\n  <div>\n    <slot name=\"paper\" :content=\"content\"></slot>\n  </div>\n</template>\n<script>\n  export default {\n    props: {\n      //内容\n      printerInfo: {\n        type: String,\n        default: \"\"\n      },\n      //速度\n      duration: {\n        type: Number,\n        default: 100\n      },\n      //延迟\n      delay: {\n        type: Number,\n        default: 3000\n      },\n      working: {\n        type: Boolean,\n        default: true\n      },\n      once: {\n        type: Boolean,\n        default: false\n      }\n    },\n    data() {\n      return {\n        content: \"\",\n        cursor: 0,\n        timer: null,\n        timeout: null,\n        print: true\n      };\n    },\n    created() {\n      if (this.working) {\n        //this.work：引用函数\n        //this.work()：执行函数\n        this.start(this.work);\n      } else {\n        this.content = this.printerInfo\n      }\n    },\n    watch: {\n      working(newVal) {\n        this.toBegin();\n      },\n      printerInfo(newVal) {\n        this.toBegin();\n      },\n      cursor(cursor) {\n        //slice(start,end)：不包含end\n        this.content = this.printerInfo.slice(0, cursor)\n      }\n    },\n    beforeDestroy() {\n      clearInterval(this.timer);\n    },\n    methods: {\n      /**\n       * 定时\n       */\n      start(work) {\n        //延迟\n        this.timeout = setTimeout(() => {\n          //速度\n          this.timer = setInterval(() => {\n            work();\n            if (this.cursor === 0 || (this.cursor === this.printerInfo.length && !this.once)) {\n              //此处为了延迟\n              clearInterval(this.timer);\n              this.start(this.work);\n            } else if (this.cursor === this.printerInfo.length && this.once) {\n              clearInterval(this.timer);\n            }\n          }, this.duration);\n        }, this.delay)\n      },\n      /**\n       * 逻辑\n       */\n      work() {\n        let cursor = this.cursor;\n        cursor += this.print ? 1 : -1;\n        if (this.print) {\n          if (cursor === this.printerInfo.length + 1) {\n            cursor -= 2;\n            this.print = !this.print;\n          }\n        } else {\n          if (cursor === -1) {\n            cursor += 2;\n            this.print = !this.print;\n          }\n        }\n        this.cursor = cursor;\n      },\n      toBegin() {\n        this.cursor = 0;\n        if (this.timeout !== null) {\n          clearTimeout(this.timeout);\n          if (this.timer !== null) {\n            clearInterval(this.timer);\n          }\n        }\n        if (this.working) {\n          this.start(this.work);\n        } else {\n          this.content = this.printerInfo;\n        }\n      }\n    }\n  };\n</script>\n"]}]}