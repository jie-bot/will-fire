{"remainingRequest":"C:\\Users\\32179\\Desktop\\will-fire\\willFire\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\32179\\Desktop\\will-fire\\willFire\\vue\\src\\components\\sort.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\32179\\Desktop\\will-fire\\willFire\\vue\\src\\components\\sort.vue","mtime":1723964853951},{"path":"C:\\Users\\32179\\Desktop\\will-fire\\willFire\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1723800259159},{"path":"C:\\Users\\32179\\Desktop\\will-fire\\willFire\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1723800259743},{"path":"C:\\Users\\32179\\Desktop\\will-fire\\willFire\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1723800259159},{"path":"C:\\Users\\32179\\Desktop\\will-fire\\willFire\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1723800259896}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IHR3b1BvZW0gPSAoKSA9PiBpbXBvcnQoICIuL2NvbW1vbi90d29Qb2VtIik7CmNvbnN0IHByb1RhZyA9ICgpID0+IGltcG9ydCggIi4vY29tbW9uL3Byb1RhZyIpOwpjb25zdCBhcnRpY2xlTGlzdCA9ICgpID0+IGltcG9ydCggIi4vYXJ0aWNsZUxpc3QiKTsKY29uc3QgbXlGb290ZXIgPSAoKSA9PiBpbXBvcnQoICIuL2NvbW1vbi9teUZvb3RlciIpOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIHR3b1BvZW0sCiAgICBwcm9UYWcsCiAgICBhcnRpY2xlTGlzdCwKICAgIG15Rm9vdGVyCiAgfSwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNvcnRJZDogdGhpcy4kcm91dGUucXVlcnkuc29ydElkLAogICAgICBsYWJlbElkOiB0aGlzLiRyb3V0ZS5xdWVyeS5sYWJlbElkLAogICAgICBzb3J0OiBudWxsLAogICAgICBwYWdpbmF0aW9uOiB7CiAgICAgICAgY3VycmVudDogMSwKICAgICAgICBzaXplOiAxMCwKICAgICAgICB0b3RhbDogMCwKICAgICAgICBzZWFyY2hLZXk6ICIiLAogICAgICAgIHNvcnRJZDogdGhpcy4kcm91dGUucXVlcnkuc29ydElkLAogICAgICAgIGxhYmVsSWQ6IHRoaXMuJHJvdXRlLnF1ZXJ5LmxhYmVsSWQKICAgICAgfSwKICAgICAgYXJ0aWNsZXM6IFtdCiAgICB9CiAgfSwKCiAgY29tcHV0ZWQ6IHt9LAoKICB3YXRjaDogewogICAgJHJvdXRlKCkgewogICAgICB0aGlzLnBhZ2luYXRpb24gPSB7CiAgICAgICAgY3VycmVudDogMSwKICAgICAgICBzaXplOiAxMCwKICAgICAgICB0b3RhbDogMCwKICAgICAgICBzZWFyY2hLZXk6ICIiLAogICAgICAgIHNvcnRJZDogdGhpcy4kcm91dGUucXVlcnkuc29ydElkLAogICAgICAgIGxhYmVsSWQ6IHRoaXMuJHJvdXRlLnF1ZXJ5LmxhYmVsSWQKICAgICAgfTsKICAgICAgdGhpcy5hcnRpY2xlcy5zcGxpY2UoMCwgdGhpcy5hcnRpY2xlcy5sZW5ndGgpOwogICAgICB0aGlzLnNvcnRJZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LnNvcnRJZDsKICAgICAgdGhpcy5sYWJlbElkID0gdGhpcy4kcm91dGUucXVlcnkubGFiZWxJZDsKICAgICAgdGhpcy5nZXRTb3J0KCk7CiAgICAgIHRoaXMuZ2V0QXJ0aWNsZXMoKTsKICAgIH0KICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5nZXRTb3J0KCk7CiAgICB0aGlzLmdldEFydGljbGVzKCk7CiAgfSwKCiAgbW91bnRlZCgpIHsKICB9LAoKICBtZXRob2RzOiB7CiAgICBwYWdlQXJ0aWNsZXMoKSB7CiAgICAgIHRoaXMucGFnaW5hdGlvbi5jdXJyZW50ID0gdGhpcy5wYWdpbmF0aW9uLmN1cnJlbnQgKyAxOwogICAgICB0aGlzLmdldEFydGljbGVzKCk7CiAgICB9LAoKICAgIGdldFNvcnQoKSB7CiAgICAgIGxldCBzb3J0SW5mbyA9IHRoaXMuJHN0b3JlLnN0YXRlLnNvcnRJbmZvOwogICAgICBpZiAoIXRoaXMuJGNvbW1vbi5pc0VtcHR5KHNvcnRJbmZvKSkgewogICAgICAgIGxldCBzb3J0QXJyYXkgPSBzb3J0SW5mby5maWx0ZXIoZiA9PiB7CiAgICAgICAgICByZXR1cm4gZi5pZCA9PT0gcGFyc2VJbnQodGhpcy5zb3J0SWQpOwogICAgICAgIH0pOwogICAgICAgIGlmICghdGhpcy4kY29tbW9uLmlzRW1wdHkoc29ydEFycmF5KSkgewogICAgICAgICAgdGhpcy5zb3J0ID0gc29ydEFycmF5WzBdOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGxpc3RBcnRpY2xlKGxhYmVsKSB7CiAgICAgIHRoaXMubGFiZWxJZCA9IGxhYmVsLmlkOwogICAgICB0aGlzLnBhZ2luYXRpb24gPSB7CiAgICAgICAgY3VycmVudDogMSwKICAgICAgICBzaXplOiAxMCwKICAgICAgICB0b3RhbDogMCwKICAgICAgICBzZWFyY2hLZXk6ICIiLAogICAgICAgIHNvcnRJZDogdGhpcy4kcm91dGUucXVlcnkuc29ydElkLAogICAgICAgIGxhYmVsSWQ6IGxhYmVsLmlkCiAgICAgIH07CiAgICAgIHRoaXMuYXJ0aWNsZXMuc3BsaWNlKDAsIHRoaXMuYXJ0aWNsZXMubGVuZ3RoKTsKICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgIHRoaXMuZ2V0QXJ0aWNsZXMoKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0QXJ0aWNsZXMoKSB7CiAgICAgIHRoaXMuJGh0dHAucG9zdCgiaHR0cDovLzQ3Ljk2Ljg2LjIyMzo4MDgxL2FwaSIgKyAiL2FydGljbGUvbGlzdEFydGljbGUiLCB0aGlzLnBhZ2luYXRpb24pCiAgICAgICAgLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgaWYgKCF0aGlzLiRjb21tb24uaXNFbXB0eShyZXMuZGF0YSkpIHsKICAgICAgICAgICAgdGhpcy5hcnRpY2xlcyA9IHRoaXMuYXJ0aWNsZXMuY29uY2F0KHJlcy5kYXRhLnJlY29yZHMpOwogICAgICAgICAgICB0aGlzLnBhZ2luYXRpb24udG90YWwgPSByZXMuZGF0YS50b3RhbDsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLAogICAgICAgICAgICB0eXBlOiAiZXJyb3IiCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["sort.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuCA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"sort.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <!-- 两句诗 -->\n    <div class=\"my-animation-slide-top\">\n      <twoPoem></twoPoem>\n    </div>\n\n    <div style=\"background: var(--background);padding-top: 40px;\" class=\"my-animation-slide-bottom\">\n      <!-- 标签 -->\n      <div class=\"sort-warp shadow-box\" v-if=\"!$common.isEmpty(sort) && !$common.isEmpty(sort.labels)\">\n        <div v-for=\"(label, index) in sort.labels\" :key=\"index\"\n             :class=\"{isActive: !$common.isEmpty(labelId) && parseInt(labelId) === label.id}\"\n             @click=\"listArticle(label)\">\n          <proTag :info=\"label.labelName+' '+label.countOfLabel\"\n                  :color=\"$constant.before_color_list[Math.floor(Math.random() * 6)]\"\n                  style=\"margin: 12px\">\n          </proTag>\n        </div>\n      </div>\n\n      <!-- 文章 -->\n      <div class=\"article-wrap\">\n        <articleList :articleList=\"articles\"></articleList>\n        <div class=\"pagination-wrap\">\n          <div @click=\"pageArticles()\" class=\"pagination\" v-if=\"pagination.total !== articles.length\">\n            下一页\n          </div>\n          <div v-else style=\"user-select: none\">\n            ~~到底啦~~\n          </div>\n        </div>\n      </div>\n      <!-- 页脚 -->\n      <myFooter></myFooter>\n    </div>\n  </div>\n</template>\n\n<script>\n  const twoPoem = () => import( \"./common/twoPoem\");\n  const proTag = () => import( \"./common/proTag\");\n  const articleList = () => import( \"./articleList\");\n  const myFooter = () => import( \"./common/myFooter\");\n\n  export default {\n    components: {\n      twoPoem,\n      proTag,\n      articleList,\n      myFooter\n    },\n\n    data() {\n      return {\n        sortId: this.$route.query.sortId,\n        labelId: this.$route.query.labelId,\n        sort: null,\n        pagination: {\n          current: 1,\n          size: 10,\n          total: 0,\n          searchKey: \"\",\n          sortId: this.$route.query.sortId,\n          labelId: this.$route.query.labelId\n        },\n        articles: []\n      }\n    },\n\n    computed: {},\n\n    watch: {\n      $route() {\n        this.pagination = {\n          current: 1,\n          size: 10,\n          total: 0,\n          searchKey: \"\",\n          sortId: this.$route.query.sortId,\n          labelId: this.$route.query.labelId\n        };\n        this.articles.splice(0, this.articles.length);\n        this.sortId = this.$route.query.sortId;\n        this.labelId = this.$route.query.labelId;\n        this.getSort();\n        this.getArticles();\n      }\n    },\n\n    created() {\n      this.getSort();\n      this.getArticles();\n    },\n\n    mounted() {\n    },\n\n    methods: {\n      pageArticles() {\n        this.pagination.current = this.pagination.current + 1;\n        this.getArticles();\n      },\n\n      getSort() {\n        let sortInfo = this.$store.state.sortInfo;\n        if (!this.$common.isEmpty(sortInfo)) {\n          let sortArray = sortInfo.filter(f => {\n            return f.id === parseInt(this.sortId);\n          });\n          if (!this.$common.isEmpty(sortArray)) {\n            this.sort = sortArray[0];\n          }\n        }\n      },\n      listArticle(label) {\n        this.labelId = label.id;\n        this.pagination = {\n          current: 1,\n          size: 10,\n          total: 0,\n          searchKey: \"\",\n          sortId: this.$route.query.sortId,\n          labelId: label.id\n        };\n        this.articles.splice(0, this.articles.length);\n        this.$nextTick(() => {\n          this.getArticles();\n        });\n      },\n      getArticles() {\n        this.$http.post(\"http://47.96.86.223:8081/api\" + \"/article/listArticle\", this.pagination)\n          .then((res) => {\n            if (!this.$common.isEmpty(res.data)) {\n              this.articles = this.articles.concat(res.data.records);\n              this.pagination.total = res.data.total;\n            }\n          })\n          .catch((error) => {\n            this.$message({\n              message: error.message,\n              type: \"error\"\n            });\n          });\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n  .sort-warp {\n    width: 70%;\n    max-width: 780px;\n    margin: 0 auto;\n    padding: 20px;\n    border-radius: 10px;\n    display: flex;\n    flex-wrap: wrap;\n  }\n\n  .article-wrap {\n    width: 70%;\n    margin: 40px auto;\n    min-height: 600px;\n  }\n\n  .isActive {\n    animation: scale 1.5s ease-in-out infinite;\n  }\n\n  .pagination-wrap {\n    display: flex;\n    justify-content: center;\n    margin-top: 40px;\n  }\n\n  .pagination {\n    padding: 13px 15px;\n    border: 1px solid var(--lightGray);\n    border-radius: 3rem;\n    color: var(--greyFont);\n    width: 100px;\n    user-select: none;\n    cursor: pointer;\n    text-align: center;\n  }\n\n  .pagination:hover {\n    border: 1px solid var(--themeBackground);\n    color: var(--themeBackground);\n    box-shadow: 0 0 5px var(--themeBackground);\n  }\n\n\n  @media screen and (max-width: 900px) {\n    .sort-warp {\n      width: 90%;\n    }\n\n    .article-wrap {\n      width: 90%;\n    }\n  }\n</style>\n"]}]}